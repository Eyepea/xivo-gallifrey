2010-01-21  Marc Dequ√®nes (Duck) <mdequenes@proformatique.com>

	pf_ftbfs_configure_PTHREAD_ONCE_INIT_test_fix
	PTHREAD_ONCE_INIT is failing because of an unused variables
	with gcc available on Etch, and then cause an FTBFS.

Index: asterisk-1.4.30/configure
===================================================================
--- asterisk-1.4.30.orig/configure	2010-01-25 22:36:33.000000000 +0100
+++ asterisk-1.4.30/configure	2010-03-16 12:17:35.000000000 +0100
@@ -15432,7 +15432,7 @@
 { echo "$as_me:$LINENO: checking if PTHREAD_ONCE_INIT needs braces" >&5
 echo $ECHO_N "checking if PTHREAD_ONCE_INIT needs braces... $ECHO_C" >&6; }
 saved_CFLAGS="${CFLAGS}"
-CFLAGS="${CFLAGS} -Werror -Wmissing-braces"
+CFLAGS="${CFLAGS} -Werror -Wmissing-braces -Wno-unused-variable"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
Index: asterisk-1.4.30/configure.ac
===================================================================
--- asterisk-1.4.30.orig/configure.ac	2010-01-25 22:36:33.000000000 +0100
+++ asterisk-1.4.30/configure.ac	2010-03-16 12:16:42.000000000 +0100
@@ -399,7 +399,7 @@
 
 AC_MSG_CHECKING(if PTHREAD_ONCE_INIT needs braces)
 saved_CFLAGS="${CFLAGS}"
-CFLAGS="${CFLAGS} -Werror -Wmissing-braces"
+CFLAGS="${CFLAGS} -Werror -Wmissing-braces -Wno-unused-variable"
 AC_COMPILE_IFELSE(
   [AC_LANG_PROGRAM(
     [#include <pthread.h>
