Index: asterisk-1.2.24.dfsg+pf.0.1~svn1329/apps/app_voicemail.c
===================================================================
--- asterisk-1.2.24.dfsg+pf.0.1~svn1329.orig/apps/app_voicemail.c	2007-08-08 14:42:56.000000000 +0200
+++ asterisk-1.2.24.dfsg+pf.0.1~svn1329/apps/app_voicemail.c	2007-08-08 14:43:38.000000000 +0200
@@ -49,6 +49,7 @@
 #include <sys/mman.h>
 #include <time.h>
 #include <dirent.h>
+#include <locale.h>
 
 #include "asterisk.h"
 
@@ -1687,6 +1688,7 @@
 	struct vm_zone *the_zone = NULL;
 	int len_passdata;
 	char *passdata2;
+	locale_t loc;
 
 	if (vmu && ast_strlen_zero(vmu->email)) {
 		ast_log(LOG_WARNING, "E-mail address missing for mailbox [%s].  E-mail will not be sent.\n", vmu->mailbox);
@@ -1737,7 +1739,8 @@
 		fprintf(p, "Date: %s\n", date);
 
 		/* Set date format for voicemail mail */
-		strftime(date, sizeof(date), emaildateformat, &tm);
+		loc = newlocale (LC_ALL_MASK, "", NULL);
+		strftime_l(date, sizeof(date), emaildateformat, &tm, loc);
 
 		if (*fromstring) {
 			struct ast_channel *ast = ast_channel_alloc(0);
