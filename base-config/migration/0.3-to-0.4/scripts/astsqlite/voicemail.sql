INSERT INTO tmp_voicemail (
	uniqueid,
	context,
	mailbox,
	password,
	fullname,
	email,
	pager,
	dialout,
	callback,
	exitcontext,
	language,
	tz,
	attach,
	saycid,
	review,
	operator,
	envelope,
	sayduration,
	saydurationm,
	sendvoicemail,
	deletevoicemail,
	forcename,
	forcegreetings,
	hidefromdir,
	maxmsg,
	commented)
SELECT
	uservoicemail.uniqueid,
	uservoicemail.context,
	uservoicemail.mailbox,
	uservoicemail.password,
	uservoicemail.fullname,
	NULLIF(uservoicemail.email,''),
	NULLIF(uservoicemail.pager,''),
	NULL,
	NULL,
	NULL,
	NULLIF(uservoicemail.language,''),
	NULLIF(uservoicemail.tz,''),
	uservoicemail.attach,
	uservoicemail.saycid,
	uservoicemail.review,
	uservoicemail.operator,
	uservoicemail.envelope,
	uservoicemail.sayduration,
	uservoicemail.saydurationm,
	uservoicemail.sendvoicemail,
	uservoicemail.deletevoicemail,
	uservoicemail.forcename,
	uservoicemail.forcegreetings,
	uservoicemail.hidefromdir,
	uservoicemail.maxmsg,
	uservoicemail.commented
FROM uservoicemail;

INSERT INTO tmp_contextmember (
	context,
	type,
	typeval,
	varname)
SELECT
	tmp_voicemail.context,
	'voicemail',
	tmp_voicemail.uniqueid,
	'context'
FROM tmp_voicemail;
